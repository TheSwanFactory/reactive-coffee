(function(){var t,n,r,e,u,i,o,s,a,c,l,f,h,p,d,g,y,v,b,m,x,w,S,k,C,A,j,O,M,E,D,R,I,B,N,P,T,U,F,H,z,q,Q,W,J,L,G,K,V,X,Y,Z,tn,nn,rn,en,un,on=[].slice,sn={}.hasOwnProperty,an=function(t,n){function r(){this.constructor=t}for(var e in n)sn.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},cn=this;"undefined"==typeof exports?this.rx=q={}:q=exports,I=0,R=function(){return I+=1},P=function(t,n){var r;if(!(n in t))throw Error("object has no key "+n);return r=t[n],delete t[n],r},B=function(t,n,r){var e,u,i,o;for(e=i=0,o=t.length;o>i;e=++i)if(u=t[e],r(u)&&0>(n-=1))return[u,e];return[null,-1]},j=function(t,n){return B(t,0,n)},E=function(t){var n,r,e,u,i,o;if(null==t&&(t=[]),r=null!=Object.create?Object.create(null):{},_.isArray(t))for(u=0,i=t.length;i>u;u++)o=t[u],n=o[0],e=o[1],r[n]=e;else for(n in t)e=t[n],r[n]=e;return r},G=function(t){var n,r,e,u;for(n=0,e=0,u=t.length;u>e;e++)r=t[e],n+=r;return n},e=q.DepMgr=function(){function t(){this.uid2src={}}return t.prototype.sub=function(t,n){return this.uid2src[t]=n},t.prototype.unsub=function(t){return P(this.uid2src,t)},t}(),q._depMgr=k=new e,u=q.Ev=function(){function t(t){this.inits=t,this.subs=E()}return t.prototype.sub=function(t){var n,r,e,u,i;if(r=R(),null!=this.inits)for(i=this.inits(),e=0,u=i.length;u>e;e++)n=i[e],t(n);return this.subs[r]=t,k.sub(r,this),r},t.prototype.pub=function(t){var n,r,e,u;e=this.subs,u=[];for(r in e)n=e[r],u.push(n(t));return u},t.prototype.unsub=function(t){return P(this.subs,t),k.unsub(t,this)},t.prototype.scoped=function(t,n){var r;r=this.sub(t);try{return n()}finally{this.unsub(r)}},t}(),q.skipFirst=function(t){var n;return n=!0,function(){var r;return r=arguments.length>=1?on.call(arguments,0):[],n?n=!1:t.apply(null,r)}},y=q.Recorder=function(){function t(){this.stack=[],this.isMutating=!1,this.isIgnoring=!1,this.onMutationWarning=new u}return t.prototype.record=function(t,n){var r,e;this.stack.length>0&&!this.isMutating&&_(this.stack).last().addNestedBind(t),this.stack.push(t),e=this.isMutating,this.isMutating=!1,r=this.isIgnoring,this.isIgnoring=!1;try{return n()}finally{this.isIgnoring=r,this.isMutating=e,this.stack.pop()}},t.prototype.sub=function(t){var n,r;return this.stack.length>0&&!this.isIgnoring?(r=_(this.stack).last(),n=t(r)):void 0},t.prototype.addCleanup=function(t){return this.stack.length>0?_(this.stack).last().addCleanup(t):void 0},t.prototype.mutating=function(t){var n;this.stack.length>0&&(console.warn("Mutation to observable detected during a bind context"),this.onMutationWarning.pub(null)),n=this.isMutating,this.isMutating=!0;try{return t()}finally{this.isMutating=n}},t.prototype.ignoring=function(t){var n;n=this.isIgnoring,this.isIgnoring=!0;try{return t()}finally{this.isIgnoring=n}},t}(),q._recorder=z=new y,q.asyncBind=w=function(t,r){var e;return e=new n(r,t),e.refresh(),e},q.bind=S=function(t){return w(null,function(){return this.done(this.record(t))})},q.lagBind=M=function(t,n,r){var e;return e=null,w(n,function(){var n=this;return null!=e&&clearTimeout(e),e=setTimeout(function(){return n.done(n.record(r))},t)})},q.postLagBind=T=function(t,n){var r;return r=null,w(t,function(){var t,e,u,i=this;return u=this.record(n),e=u.val,t=u.ms,null!=r&&clearTimeout(r),r=setTimeout(function(){return i.done(e)},t)})},q.snap=function(t){return z.ignoring(t)},q.onDispose=function(t){return z.addCleanup(t)},q.autoSub=function(t,n){var r;return r=t.sub(n),q.onDispose(function(){return t.unsub(r)}),r},h=q.ObsCell=function(){function t(t){var n,r=this;this.x=t,this.x=null!=(n=this.x)?n:null,this.onSet=new u(function(){return[[null,r.x]]})}return t.prototype.get=function(){var t=this;return z.sub(function(n){return q.autoSub(t.onSet,function(){return n.refresh()})}),this.x},t}(),b=q.SrcCell=function(t){function n(){return tn=n.__super__.constructor.apply(this,arguments)}return an(n,t),n.prototype.set=function(t){var n=this;return z.mutating(function(){var r;return n.x!==t?(r=n.x,n.x=t,n.onSet.pub([r,t]),r):void 0})},n}(h),n=q.DepCell=function(t){function n(t,r){this.body=t,n.__super__.constructor.call(this,null!=r?r:null),this.refreshing=!1,this.nestedBinds=[],this.cleanups=[]}return an(n,t),n.prototype.refresh=function(){var t,n,r,e,u,i=this;return this.refreshing?void 0:(r=this.x,e=function(t){return i.x=t,i.onSet.pub([r,i.x])},u=null,n=!1,t={record:function(r){var o,s;if(!i.refreshing){if(i.disconnect(),o)throw Error("this refresh has already recorded its dependencies");i.refreshing=!0,o=!0;try{s=z.record(i,function(){return r.call(t)})}finally{i.refreshing=!1}return n&&e(u),s}},done:function(t){return r!==t?i.refreshing?(n=!0,u=t):e(t):void 0}},this.body.call(t))},n.prototype.disconnect=function(){var t,n,r,e,u,i,o,s;for(o=this.cleanups,r=0,u=o.length;u>r;r++)t=o[r],t();for(s=this.nestedBinds,e=0,i=s.length;i>e;e++)n=s[e],n.disconnect();return this.nestedBinds=[],this.cleanups=[]},n.prototype.addNestedBind=function(t){return this.nestedBinds.push(t)},n.prototype.addCleanup=function(t){return this.cleanups.push(t)},n}(h),f=q.ObsArray=function(){function t(t,n){var r=this;this.xs=null!=t?t:[],this.diff=null!=n?n:q.basicDiff(),this.onChange=new u(function(){return[[0,[],r.xs]]}),this.indexed_=null}return t.prototype.all=function(){var t=this;return z.sub(function(n){return q.autoSub(t.onChange,function(){return n.refresh()})}),_.clone(this.xs)},t.prototype.raw=function(){var t=this;return z.sub(function(n){return q.autoSub(t.onChange,function(){return n.refresh()})}),this.xs},t.prototype.at=function(t){var n=this;return z.sub(function(r){return q.autoSub(n.onChange,function(n){var e,u,i;return u=n[0],i=n[1],e=n[2],u===t?r.refresh():void 0})}),this.xs[t]},t.prototype.length=function(){var t=this;return z.sub(function(n){return q.autoSub(t.onChange,function(t){var r,e,u;return e=t[0],u=t[1],r=t[2],u.length!==r.length?n.refresh():void 0})}),this.xs.length},t.prototype.map=function(t){var n;return n=new l,q.autoSub(this.onChange,function(r){var e,u,i;return u=r[0],i=r[1],e=r[2],n.realSplice(u,i.length,e.map(t))}),n},t.prototype.indexed=function(){var t=this;return null==this.indexed_&&(this.indexed_=new a,q.autoSub(this.onChange,function(n){var r,e,u;return e=n[0],u=n[1],r=n[2],t.indexed_.realSplice(e,u.length,r)})),this.indexed_},t.prototype.concat=function(t){return q.concat(this,t)},t.prototype.realSplice=function(t,n,r){var e;return e=this.xs.splice.apply(this.xs,[t,n].concat(r)),this.onChange.pub([t,e,r])},t.prototype._update=function(t,n){var r,e,u,i,o,s,a,c,l,f,h,p;for(null==n&&(n=this.diff),o=this.xs,u=[0,o.length,t],c=null,a=null!=n?null!=(h=N(o.length,t,n(o,t)))?h:[u]:[u],p=[],l=0,f=a.length;f>l;l++)s=a[l],i=s[0],e=s[1],r=s[2],p.push(this.realSplice(i,e,r));return p},t}(),v=q.SrcArray=function(t){function n(){return nn=n.__super__.constructor.apply(this,arguments)}return an(n,t),n.prototype.spliceArray=function(t,n,r){var e=this;return z.mutating(function(){return e.realSplice(t,n,r)})},n.prototype.splice=function(){var t,n,r;return r=arguments[0],n=arguments[1],t=arguments.length>=3?on.call(arguments,2):[],this.spliceArray(r,n,t)},n.prototype.insert=function(t,n){return this.splice(n,0,t)},n.prototype.remove=function(t){var n;return n=_(this.raw()).indexOf(t),n>=0?this.removeAt(n):void 0},n.prototype.removeAt=function(t){return this.splice(t,1)},n.prototype.push=function(t){return this.splice(this.length(),0,t)},n.prototype.put=function(t,n){return this.splice(t,1,n)},n.prototype.replace=function(t){return this.spliceArray(0,this.length(),t)},n.prototype.update=function(t){var n=this;return z.mutating(function(){return n._update(t)})},n}(f),l=q.MappedDepArray=function(t){function n(){return rn=n.__super__.constructor.apply(this,arguments)}return an(n,t),n}(f),a=q.IndexedDepArray=function(t){function n(t,r){var e,i,o=this;null==t&&(t=[]),n.__super__.constructor.call(this,t,r),this.is=function(){var t,n,r,u;for(r=this.xs,u=[],e=t=0,n=r.length;n>t;e=++t)i=r[e],u.push(q.cell(e));return u}.call(this),this.onChange=new u(function(){return[[0,[],_.zip(o.xs,o.is)]]})}return an(n,t),n.prototype.map=function(t){var n;return n=new c,q.autoSub(this.onChange,function(r){var e,u,i,o,s;return o=r[0],s=r[1],u=r[2],n.realSplice(o,s.length,function(){var n,r,o,s;for(s=[],n=0,r=u.length;r>n;n++)o=u[n],e=o[0],i=o[1],s.push(t(e,i));return s}())}),n},n.prototype.realSplice=function(t,n,r){var e,u,i,o,s,a,c,l,f;for(o=(c=this.xs).splice.apply(c,[t,n].concat(on.call(r))),l=this.is.slice(t+n),i=s=0,a=l.length;a>s;i=++s)e=l[i],e.set(t+r.length+i);return u=function(){var n,u,i;for(i=[],e=n=0,u=r.length;u>=0?u>n:n>u;e=u>=0?++n:--n)i.push(q.cell(t+e));return i}(),(f=this.is).splice.apply(f,[t,n].concat(on.call(u))),this.onChange.pub([t,o,_.zip(r,u)])},n}(f),c=q.IndexedMappedDepArray=function(t){function n(){return en=n.__super__.constructor.apply(this,arguments)}return an(n,t),n}(a),t=q.DepArray=function(t){function n(t,r){var e=this;this.f=t,n.__super__.constructor.call(this,[],r),q.autoSub(S(function(){return e.f()}).onSet,function(t){var n,r;return n=t[0],r=t[1],e._update(r)})}return an(n,t),n}(f),s=q.IndexedArray=function(t){function n(t){this.xs=t}return an(n,t),n.prototype.map=function(t){var n;return n=new l,q.autoSub(this.xs.onChange,function(r){var e,u,i;return u=r[0],i=r[1],e=r[2],n.realSplice(u,i.length,e.map(t))}),n},n}(t),q.concat=function(){var t,n,r,e;return r=arguments.length>=1?on.call(arguments,0):[],e=new l,t=function(){var t,e,u;for(u=[],t=0,e=r.length;e>t;t++)n=r[t],u.push(0);return u}(),r.map(function(n,r){return q.autoSub(n.onChange,function(n){var u,i,o,s;return i=n[0],o=n[1],u=n[2],s=G(t.slice(0,r)),t[r]+=u.length-o.length,e.realSplice(s+i,o.length,u)})}),e},o=q.FakeSrcCell=function(t){function n(t,n){this._getter=t,this._setter=n}return an(n,t),n.prototype.get=function(){return this._getter()},n.prototype.set=function(t){return this._setter(t)},n}(b),i=q.FakeObsCell=function(t){function n(t){this._getter=t}return an(n,t),n.prototype.get=function(){return this._getter()},n}(h),x=q.MapEntryCell=function(t){function n(t,n){this._map=t,this._key=n}return an(n,t),n.prototype.get=function(){return this._map.get(this._key)},n.prototype.set=function(t){return this._map.put(this._key,t)},n}(o),d=q.ObsMapEntryCell=function(t){function n(t,n){this._map=t,this._key=n}return an(n,t),n.prototype.get=function(){return this._map.get(this._key)},n}(i),p=q.ObsMap=function(){function t(t){this.x=null!=t?t:{},this.onAdd=new u(function(){var n,r,e;e=[];for(n in t)r=t[n],e.push([n,r]);return e}),this.onRemove=new u,this.onChange=new u}return t.prototype.get=function(t){var n=this;return z.sub(function(r){return q.autoSub(n.onAdd,function(n){var e,u;return e=n[0],u=n[1],t===e?r.refresh():void 0})}),z.sub(function(r){return q.autoSub(n.onChange,function(n){var e,u,i;return u=n[0],e=n[1],i=n[2],t===u?r.refresh():void 0})}),z.sub(function(r){return q.autoSub(n.onRemove,function(n){var e,u;return u=n[0],e=n[1],t===u?r.refresh():void 0})}),this.x[t]},t.prototype.all=function(){var t=this;return z.sub(function(n){return q.autoSub(t.onAdd,function(){return n.refresh()})}),z.sub(function(n){return q.autoSub(t.onChange,function(){return n.refresh()})}),z.sub(function(n){return q.autoSub(t.onRemove,function(){return n.refresh()})}),_.clone(this.x)},t.prototype.realPut=function(t,n){var r;return t in this.x?(r=this.x[t],this.x[t]=n,this.onChange.pub([t,r,n]),r):(this.x[t]=n,this.onAdd.pub([t,n]),void 0)},t.prototype.realRemove=function(t){var n;return n=P(this.x,t),this.onRemove.pub([t,n]),n},t.prototype.cell=function(t){return new d(this,t)},t}(),m=q.SrcMap=function(t){function n(){return un=n.__super__.constructor.apply(this,arguments)}return an(n,t),n.prototype.put=function(t,n){var r=this;return z.mutating(function(){return r.realPut(t,n)})},n.prototype.remove=function(t){var n=this;return z.mutating(function(){return n.realRemove(t)})},n.prototype.cell=function(t){return new x(this,t)},n}(p),r=q.DepMap=function(t){function r(t){this.f=t,r.__super__.constructor.call(this),q.autoSub(new n(this.f).onSet,function(t){var n,r,e,u,i;r=t[0],u=t[1];for(n in r)e=r[n],n in u||this.realRemove(n);i=[];for(n in u)e=u[n],this.x[n]!==e?i.push(this.realPut(n,e)):i.push(void 0);return i})}return an(r,t),r}(p),q.liftSpec=function(t){var n,r,e;return _.object(function(){var u,i,o,s;for(o=Object.getOwnPropertyNames(t),s=[],u=0,i=o.length;i>u;u++)n=o[u],e=t[n],null!=e&&(e instanceof q.ObsMap||e instanceof q.ObsCell||e instanceof q.ObsArray)||(r=_.isFunction(e)?null:_.isArray(e)?"array":"cell",s.push([n,{type:r,val:e}]));return s}())},q.lift=function(t,n){var r,e;null==n&&(n=q.liftSpec(t));for(r in n)e=n[r],t[r]=function(){switch(e.type){case"cell":return q.cell(t[r]);case"array":return q.array(t[r]);case"map":return q.map(t[r]);default:return t[r]}}();return t},q.unlift=function(t){var n,r;return _.object(function(){var e;e=[];for(n in t)r=t[n],e.push([n,r instanceof q.ObsCell?r.get():r instanceof q.ObsArray?r.all():r]);return e}())},q.reactify=function(t,n){var r,e,u,i;return _.isArray(t)?(r=q.array(_.clone(t)),Object.defineProperties(t,_.object(function(){var n,u,i,o;for(i=_.functions(r),o=[],n=0,u=i.length;u>n;n++)e=i[n],"length"!==e&&o.push(function(n){var e,u,i;return e=t[n],u=function(){var u,i,o;return u=arguments.length>=1?on.call(arguments,0):[],null!=e&&(i=e.call.apply(e,[t].concat(on.call(u)))),(o=r[n]).call.apply(o,[r].concat(on.call(u))),i},i={configurable:!0,enumerable:!1,value:u,writable:!0},[n,i]}(e));return o}())),t):Object.defineProperties(t,_.object(function(){var t;t=[];for(u in n)i=n[u],t.push(function(t,n){var r,e,u,i,o;switch(r=null,n.type){case"cell":e=q.cell(null!=(i=n.val)?i:null),r={configurable:!0,enumerable:!0,get:function(){return e.get()},set:function(t){return e.set(t)}};break;case"array":u=q.reactify(null!=(o=n.val)?o:[]),r={configurable:!0,enumerable:!0,get:function(){return u.raw(),u},set:function(t){return u.splice.apply(u,[0,u.length].concat(on.call(t))),u}};break;default:throw Error("Unknown observable type: "+type)}return[t,r]}(u,i));return t}()))},q.autoReactify=function(t){var n,r,e;return q.reactify(t,_.object(function(){var u,i,o,s;for(o=Object.getOwnPropertyNames(t),s=[],u=0,i=o.length;i>u;u++)n=o[u],e=t[n],e instanceof p||e instanceof h||e instanceof f||(r=_.isFunction(e)?null:_.isArray(e)?"array":"cell",s.push([n,{type:r,val:e}]));return s}()))},_.extend(q,{cell:function(t){return new b(t)},array:function(t,n){return new v(t,n)},map:function(t){return new m(t)}}),q.flatten=function(n){return new t(function(){var t;return _(function(){var r,e,u;for(u=[],r=0,e=n.length;e>r;r++)t=n[r],t instanceof f?u.push(t.raw()):t instanceof h?u.push(t.get()):u.push(t);return u}()).chain().flatten(!0).filter(function(t){return null!=t}).value()})},O=function(t){var n;return n=_.flatten(t),q.cellToArray(S(function(){return _.flatten(t)}))},q.cellToArray=function(n,r){return new t(function(){return n.get()},r)},q.basicDiff=function(t){return null==t&&(t=q.smartUidify),function(n,r){var e,u,i,o,s,a,c;for(u=E(function(){var r,u,o;for(o=[],e=r=0,u=n.length;u>r;e=++r)i=n[e],o.push([t(i),e]);return o}()),c=[],o=0,s=r.length;s>o;o++)i=r[o],c.push(null!=(a=u[t(i)])?a:-1);return c}},q.uidify=function(t){var n;return null!=(n=t.__rxUid)?n:Object.defineProperty(t,"__rxUid",{enumerable:!1,value:R()}).__rxUid},q.smartUidify=function(t){return _.isObject(t)?q.uidify(t):JSON.stringify(t)},N=function(t,n,r){var e,u,i,o,s,a;if(o=function(){var t,n,e;for(e=[],t=0,n=r.length;n>t;t++)u=r[t],u>=0&&e.push(u);return e}(),_.some(function(){var t,n,r;for(r=[],u=t=0,n=o.length-1;n>=0?n>t:t>n;u=n>=0?++t:--t)r.push(0>=o[u+1]-o[u]);return r}()))return null;for(a=[],i=-1,u=0;r.length>u;){for(;r.length>u&&r[u]===i+1;)i+=1,u+=1;for(s={index:u,count:0,additions:[]};r.length>u&&-1===r[u];)s.additions.push(n[u]),u+=1;e=u===r.length?t:r[u],s.count=e-(i+1),(s.count>0||s.additions.length>0)&&a.push([s.index,s.count,s.additions]),i=e,u+=1}return a},$.fn.rx=function(t){var n,r,e,u;return e=this.data("rx-map"),null==e&&this.data("rx-map",e=E()),t in e?e[t]:e[t]=function(){var e=this;switch(t){case"focused":return r=q.cell(this.is(":focus")),this.focus(function(){return r.set(!0)}),this.blur(function(){return r.set(!1)}),r;case"val":return u=q.cell(this.val()),this.change(function(){return u.set(e.val())}),this.on("input",function(){return u.set(e.val())}),u;case"checked":return n=q.cell(this.is(":checked")),this.change(function(){return n.set(e.is(":checked"))}),n;default:throw Error("Unknown reactive property type")}}.call(this)},"undefined"==typeof exports?this.rxt=Q={}:Q=exports,g=Q.RawHtml=function(){function t(t){this.html=t}return t}(),A=["blur","change","click","dblclick","error","focus","focusin","focusout","hover","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","ready","resize","scroll","select","submit","toggle","unload"],L=Q.specialAttrs={init:function(t,n){return n.call(t)}},X=function(t){return L[t]=function(n,r){return n[t](function(t){return r.call(n,t)})}};for(Y=0,Z=A.length;Z>Y;Y++)C=A[Y],X(C);H=["async","autofocus","checked","location","multiple","readOnly","selected","selectedIndex","tagName","nodeName","nodeType","ownerDocument","defaultChecked","defaultSelected"],F=_.object(function(){var t,n,r;for(r=[],t=0,n=H.length;n>t;t++)U=H[t],r.push([U,null]);return r}()),J=function(t,n,r){return"value"===n?t.val(r):n in F?t.prop(n,r):t.attr(n,r)},W=function(t,n,r,e){return null==e&&(e=_.identity),r instanceof h?q.autoSub(r.onSet,function(r){var u,i;return i=r[0],u=r[1],J(t,n,e(u))}):J(t,n,e(r))},Q.mktag=D=function(t){return function(n,r){var e,u,i,o,s,a,c,l,p,d;p=null==n&&null==r?[{},null]:null!=r?[n,r]:_.isString(n)||n instanceof Element||n instanceof g||n instanceof $||_.isArray(n)||n instanceof h||n instanceof f?[{},n]:[n,null],e=p[0],u=p[1],i=$("<"+t+"/>"),d=_.omit(e,_.keys(L));for(s in d)l=d[s],W(i,s,l);null!=u&&(a=function(t){var n,r,e,u,i;for(i=[],e=0,u=t.length;u>e;e++)if(n=t[e],_.isString(n))i.push(document.createTextNode(n));else if(n instanceof Element)i.push(n);else if(n instanceof g){if(r=$(n.html),1!==r.length)throw Error("RawHtml must wrap a single element");i.push(r[0])}else{if(!(n instanceof $))throw Error("Unknown element type in array: "+n.constructor.name+" (must be string, Element, RawHtml, or jQuery objects)");if(1!==n.length)throw Error("jQuery object must wrap a single element");i.push(n[0])}return i},c=function(t){var n;if(i.html(""),!_.isArray(t)){if(_.isString(t)||t instanceof Element||t instanceof g||t instanceof $)return c([t]);throw Error("Unknown type for element contents: "+t.constructor.name+" (accepted types: string, Element, RawHtml, jQuery object of single element, or array of the aforementioned)")}n=a(t),i.append(n)},u instanceof f?q.autoSub(u.onChange,function(t){var n,r,e,u;return r=t[0],e=t[1],n=t[2],i.contents().slice(r,r+e.length).remove(),u=a(n),r===i.contents().length?i.append(u):i.contents().eq(r).before(u)}):u instanceof h?q.autoSub(u.onSet,function(t){var n,r;return n=t[0],r=t[1],c(r)}):c(u));for(o in e)o in L&&L[o](i,e[o],e,u);return i}},V=["html","head","title","base","link","meta","style","script","noscript","body","body","section","nav","article","aside","h1","h2","h3","h4","h5","h6","h1","h6","header","footer","address","main","main","p","hr","pre","blockquote","ol","ul","li","dl","dt","dd","dd","figure","figcaption","div","a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr","ins","del","img","iframe","embed","object","param","object","video","audio","source","video","audio","track","video","audio","canvas","map","area","area","map","svg","math","table","caption","colgroup","col","tbody","thead","tfoot","tr","td","th","form","fieldset","legend","fieldset","label","input","button","select","datalist","optgroup","option","select","datalist","textarea","keygen","output","progress","meter","details","summary","details","menuitem","menu"],Q.tags=_.object(function(){var t,n,r;for(r=[],t=0,n=V.length;n>t;t++)K=V[t],r.push([K,Q.mktag(K)]);return r}()),Q.rawHtml=function(t){return new g(t)},Q.importTags=function(t){return _(null!=t?t:cn).extend(Q.tags)},Q.cast=function(t,n){var r,e,u;return _.object(function(){var i;i=[];for(r in t)u=t[r],e=function(){switch(n[r]){case"array":if(u instanceof q.ObsArray)return u;if(_.isArray(u))return new q.DepArray(function(){return u});if(u instanceof q.ObsCell)return new q.DepArray(function(){return u.get()});throw Error("Cannot cast to array: "+u.constructor.name);case"cell":return u instanceof q.ObsCell?u:S(function(){return u});default:return u}}(),i.push([r,e]);return i}())},Q.cssify=function(t){var n,r;return function(){var e;e=[];for(n in t)r=t[n],null!=r&&e.push(""+_.str.dasherize(n)+": "+(_.isNumber(r)?r+"px":r)+";");return e}().join(" ")},L.style=function(t,n){return W(t,"style",n,function(t){return _.isString(t)?t:Q.cssify(t)})},Q.smushClasses=function(t){return _(t).chain().flatten().compact().value().join(" ").replace(/\s+/," ").trim()},L["class"]=function(t,n){return W(t,"class",n,function(t){return _.isString(t)?t:Q.smushClasses(t)})}}).call(this);